(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(8),i=a.n(n),c=(a(14),a(2)),l=a(3),h=a(5),o=a(4),d=a(6),u=a(1),m=(a(17),a(19),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={disabled:e.habit.disabled,checked:e.habit.checked},a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e,t){this.setState({checked:!this.state.checked}),this.props.checkDone(this.props.habit.hid,!this.state.checked)}},{key:"render",value:function(){var e=this.state.disabled?"blurred":"opaque";return s.a.createElement("li",{className:e},s.a.createElement("input",{type:"checkbox",onChange:this.handleChange,disabled:this.state.disabled,defaultChecked:this.state.checked}),this.props.habit.name)}}]),t}(r.Component)),y={HABITSTYPES:{daily:0,weekly:1},WEEKDAYS:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},MONTHS:{January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11}},b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={habits:e.habits,trackers:e.trackers},a.formatUpcomingWeek=a.formatUpcomingWeek.bind(Object(u.a)(Object(u.a)(a))),a.isChecked=a.isChecked.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"formatUpcomingWeek",value:function(e){for(var t=new Date,a=t,r=[],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=0;i<7;i++)a=new Date(t.getTime()+864e5*i),r[i]={day:s[a.getDay()]+" "+a.getDate(),habits:[]};return e.forEach(function(e,t){var a=y.HABITSTYPES,s=new Date;switch(e.type){case a.daily:for(var n=0;n<7;n++){var i=0!==n,c=!(0!==n||!this.isChecked(e.tid)),l=Object.assign({checked:c,disabled:i},e);r[n].habits.push(l)}break;case a.weekly:var h=e.weekDay-s.getDay()>=0?e.weekDay-s.getDay():e.weekDay-s.getDay()+7,o=Object.assign({checked:this.isChecked(e.tid),disabled:e.weekDay!==s.getDay()},e);r[h].habits.push(o)}}.bind(this)),{header:t.getMonth()===a.getMonth()?n[t.getMonth()]:n[t.getMonth()]+"/"+n[a.getMonth()],habits:r}}},{key:"isChecked",value:function(e){var t=this.state.trackers,a=!1,r=new Date;if(e>-1){for(var s=[],n=0;n<t.length;n++)if(t[n].tid===e){s=t[n];break}s.checksByMonths[0].year===r.getFullYear()&&s.checksByMonths[0].month===r.getMonth()&&s.checksByMonths[0].days[s.checksByMonths[0].days.length-1]===r.getDate()&&(a=!0)}return a}},{key:"render",value:function(){var e=this,t=this.formatUpcomingWeek(this.state.habits);return s.a.createElement("div",{className:"App-UpComingWeek"},s.a.createElement("h2",{className:"bold upperc"}," ",t.header," "),s.a.createElement("div",{className:"flex table-7-4-2"},t.habits.map(function(t,a){return s.a.createElement("div",{className:"col highlight-1",key:a},s.a.createElement("h3",{className:"bold center"}," ",t.day," "),s.a.createElement("ul",{className:"box-item-list-style no-list-style"},t.habits.map(function(t,a){return s.a.createElement(m,{key:a,habit:t,checkDone:e.props.checkDone})})))})))}}]),t}(r.Component),p=(a(21),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={trackers:e.trackers},a.formatTrackers=a.formatTrackers.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"formatTrackers",value:function(e){var t=[];return e.forEach(function(e,a){var r=new Date,s=r.getDate(),n=e.start.day,i=e.checksByMonths[0].month,c=0,l=y.HABITSTYPES;if(e.checksByMonths[0].year!==r.getFullYear()){var h,o,d=i;h=o=e.checksByMonths[0].year,c=12*(r.getFullYear()-h)+(r.getMonth()-i);for(var u=0;u<c;u++)++d>11&&(d=0,o++),e.checksByMonths.unshift({year:o,month:d,days:[]})}else if(e.checksByMonths[0].month!==r.getMonth()){c=r.getMonth()-e.checksByMonths[0].month;for(var m=0;m<c;m++)e.checksByMonths.unshift({year:r.getFullYear(),month:i+m+1,days:[]})}for(var b=e.checksByMonths.length,p=[],k=0;k<b;k++){var v=e.checksByMonths[k],g=v.days,O=new Date(v.year,v.month+1,0).getDate(),f=[];switch(e.type){case l.daily:for(var E=0;E<O;E++)f.push({date:E+1,isChecked:!1});for(var j=0;j<g.length;j++)f[g[j]-1].isChecked=!0;0===k&&f.splice(-O+s,O-s),k===b-1&&f.splice(0,n-1);break;case l.weekly:var S=new Date(v.year,v.month,1).getDay(),D=e.weekDay-S<0?e.weekDay-S+7:e.weekDay-S;D++;for(var N=0,M=g.length;D<=O;){var w=!1;N<M&&D===g[N]&&(w=!0,N++),f.push({date:D,isChecked:w}),D+=7}if(0===k)for(;f[f.length-1].date>s;)f.pop();if(k===b-1)for(;f.length>0&&f[0].date<n;)f.shift()}p.push({month:v.month,days:f})}t.push({name:e.name,checksByMonths:p})}),t}},{key:"render",value:function(){var e=this.formatTrackers(this.state.trackers);return s.a.createElement("div",{className:"App-Trackers"},e.map(function(e,t){return s.a.createElement("div",{key:t,className:"overflow-hide"},s.a.createElement("h4",{className:"bold left title-circle"}," ",e.name," "),e.checksByMonths.map(function(e,t){return s.a.createElement("span",{key:t,className:"left padding-hor right-border"},e.days.map(function(e,t){return s.a.createElement("span",{key:t,className:e.isChecked?"circle box right":"circle no-box right"}," ",e.date)}))}))}))}}]),t}(r.Component)),k=(a(23),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={habits:e.habits},a.formatHabitsByType=a.formatHabitsByType.bind(Object(u.a)(Object(u.a)(a))),a.displayOverlay=a.displayOverlay.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"formatHabitsByType",value:function(e){for(var t=[],a=Object.keys(y.HABITSTYPES),r=0;r<a.length;r++)t[r]={type:a[r],habits:[]};return e.forEach(function(e,a){t[e.type].habits.push(e)}),t}},{key:"displayOverlay",value:function(e,t){this.props.displayOverlay(!0,"remove","habit",e,t)}},{key:"render",value:function(){var e=this,t=this.formatHabitsByType(this.state.habits);return s.a.createElement("div",{className:"App-Habits"},s.a.createElement("h2",{className:"bold upperc"}," Habits "),s.a.createElement("div",{className:"flex table-4-2-1"},t.map(function(t,a){return s.a.createElement("div",{key:a,className:"col"},s.a.createElement("h3",{className:"bold center"}," ",t.type," "),s.a.createElement("ul",{className:"box-item-list-style no-list-style"},t.habits.map(function(t,a){return s.a.createElement("li",{key:a}," ",t.name," ",s.a.createElement("button",{className:"right",onClick:function(){return e.displayOverlay(t.hid,t.name)}},"x"))})))})))}}]),t}(r.Component)),v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={item:a.props.item},a.displayOverlay=a.displayOverlay.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"displayOverlay",value:function(){this.props.displayOverlay(!0,"add","habit")}},{key:"render",value:function(){return s.a.createElement("div",{className:"App-AddButton marg-ver"},s.a.createElement("button",{className:"font-l upperc",onClick:this.displayOverlay},"+ Add ",this.state.item))}}]),t}(r.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).state={isNameEmptyWarning:!1,name:"",habitType:0,weekDay:0},a.updateName=a.updateName.bind(Object(u.a)(Object(u.a)(a))),a.updateType=a.updateType.bind(Object(u.a)(Object(u.a)(a))),a.updateDay=a.updateDay.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"updateType",value:function(e){this.setState({habitType:Number(e)})}},{key:"updateDay",value:function(e){this.setState({weekDay:Number(e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault(),0===this.state.name.length?this.setState({isNameEmptyWarning:!0}):(this.props.addHabit(this.state.name,this.state.habitType,this.state.weekDay),this.props.displayOverlay(!1))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App-AddEditForm overlay"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h2",null," Add habit "),s.a.createElement("div",{className:"marg-b"},s.a.createElement("div",{className:"marg-ver"},s.a.createElement("label",{className:"blue bold inl-b marg-r serif"}," Name "),s.a.createElement("input",{className:"input-min-w",type:"text",name:"name",onChange:this.updateName,placeholder:this.state.isNameEmptyWarning?"Please, enter a name":""})),s.a.createElement("div",{className:"marg-ver"},s.a.createElement("label",{className:"blue bold inl-b marg-r serif"},"Frequency"),Object.keys(y.HABITSTYPES).map(function(t,a){return s.a.createElement("span",{key:a,className:"inl-b marg-r"},s.a.createElement("input",{type:"radio",name:"type",value:a,checked:e.state.habitType===a,onChange:function(){return e.updateType(a)}})," ",t," ")})),this.state.habitType>0?s.a.createElement("span",{className:"marg-r marg-ver"},s.a.createElement("select",{value:this.state.weekDay,onChange:this.updateDay},Object.keys(y.WEEKDAYS).map(function(e,t){return s.a.createElement("option",{key:t,value:t}," ",e," ")}))):""),s.a.createElement("button",{onClick:function(){return e.props.displayOverlay(!1)}}," Cancel "),s.a.createElement("button",{className:"upperc right",type:"submit",value:"Submit"}," Add ")))}}]),t}(r.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.deleteHabit(this.props.hid),this.props.displayOverlay(!1)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App-DeleteForm overlay"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"blue bold inl-b marg-r marg-ver serif"},' Are you sure you want to delete the "',this.props.name,'" habit?'),s.a.createElement("button",{onClick:function(){return e.props.displayOverlay(!1)}}," Cancel "),s.a.createElement("button",{className:"upperc right",type:"submit",value:"Submit"}," Delete ")))}}]),t}(r.Component),f=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(h.a)(this,Object(o.a)(t).call(this,e));var r=JSON.parse(localStorage.getItem("habits"))?JSON.parse(localStorage.getItem("habits")):[],s=JSON.parse(localStorage.getItem("idHabit"))?Number(localStorage.getItem("idHabit")):0,n=JSON.parse(localStorage.getItem("trackers"))?JSON.parse(localStorage.getItem("trackers")):[],i=JSON.parse(localStorage.getItem("idTracker"))?Number(localStorage.getItem("idTracker")):0;return a.state={habits:r,idHabit:s,trackers:n,idTracker:i,addEditDeleteOverlay:{status:!1,action:"add",type:"habit",hid:-1,name:""}},a.checkDone=a.checkDone.bind(Object(u.a)(Object(u.a)(a))),a.displayOverlay=a.displayOverlay.bind(Object(u.a)(Object(u.a)(a))),a.addHabit=a.addHabit.bind(Object(u.a)(Object(u.a)(a))),a.deleteHabit=a.deleteHabit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"checkDone",value:function(e,t){for(var a=this.state.trackers,r=[],s=new Date,n=0;n<a.length;n++)if(a[n].hid===e){r=a[n];break}t?r.checksByMonths[0].year===s.getFullYear()&&r.checksByMonths[0].month===s.getMonth()&&r.checksByMonths[0].days.push(s.getDate()):r.checksByMonths[0].year===s.getFullYear()&&r.checksByMonths[0].month===s.getMonth()&&r.checksByMonths[0].days[r.checksByMonths[0].days.length-1]===s.getDate()&&r.checksByMonths[0].days.pop(),a[n]=r,this.setState({trackers:a}),localStorage.setItem("trackers",JSON.stringify(a))}},{key:"displayOverlay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"habit",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.setState({addEditDeleteOverlay:{status:e,action:t,type:a,hid:r,name:s}})}},{key:"addHabit",value:function(e,t,a){var r=this.state.idHabit,s=this.state.idTracker,n={hid:r,name:e,type:t,weekDay:a,tid:s},i=this.state.habits;i.push(n);var c={idHabit:r+1,habits:i},l=new Date,h={tid:s=this.state.idTracker,hid:r,name:e,type:t,weekDay:a,start:{day:l.getDate(),month:l.getMonth(),year:l.getFullYear()},checksByMonths:[{year:l.getFullYear(),month:l.getMonth(),days:[]}]},o=this.state.trackers;o.push(h),c.trackers=o,c.idTracker=s+1,this.setState(c),localStorage.setItem("idHabit",r+1),localStorage.setItem("habits",JSON.stringify(i)),localStorage.setItem("idTracker",s+1),localStorage.setItem("trackers",JSON.stringify(o))}},{key:"deleteHabit",value:function(e){for(var t=this.state.habits,a=this.state.trackers,r=0;r<t.length;r++)if(t[r].hid===e){t.splice(r,1),a.splice(r,1);break}this.setState({habits:t,trackers:a}),localStorage.setItem("habits",JSON.stringify(t)),localStorage.setItem("trackers",JSON.stringify(a))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{id:"page"},s.a.createElement("header",{className:"App-header"}),s.a.createElement(b,{habits:this.state.habits,trackers:this.state.trackers,checkDone:this.checkDone}),s.a.createElement(p,{trackers:this.state.trackers}),s.a.createElement(v,{item:"habit",displayOverlay:this.displayOverlay}),s.a.createElement(k,{habits:this.state.habits,displayOverlay:this.displayOverlay})),this.state.addEditDeleteOverlay.status?s.a.createElement("div",{id:"overlay"}):"",this.state.addEditDeleteOverlay.status&&"add"===this.state.addEditDeleteOverlay.action&&s.a.createElement(g,{displayOverlay:this.displayOverlay,addHabit:this.addHabit}),this.state.addEditDeleteOverlay.status&&"remove"===this.state.addEditDeleteOverlay.action&&s.a.createElement(O,{displayOverlay:this.displayOverlay,deleteHabit:this.deleteHabit,hid:this.state.addEditDeleteOverlay.hid,name:this.state.addEditDeleteOverlay.name}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,2,1]]]);
//# sourceMappingURL=main.7b1e7ffb.chunk.js.map